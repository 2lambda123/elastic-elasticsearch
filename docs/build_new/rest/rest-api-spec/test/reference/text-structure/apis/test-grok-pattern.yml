---
"line_54":
  - skip:
      features:
        - default_shards
        - stash_in_key
        - stash_in_path
        - stash_path_replace
        - warnings
  - do:
      raw:
        method: GET
        path: "_text_structure/test_grok_pattern"
        body: |
          {
            "grok_pattern": "Hello %{WORD:first_name} %{WORD:last_name}",
            "text": [
              "Hello John Doe",
              "this does not match"
            ]
          }
  - is_false: _shards.failures
  - match:
      $body:
        {
          "matches": [
            {
              "matched": true,
              "fields": {
                "first_name": [
                  {
                    "match": "John",
                    "offset": 6,
                    "length": 4
                  }
                ],
                "last_name": [
                  {
                    "match": "Doe",
                    "offset": 11,
                    "length": 3
                  }
                ]
              }
            },
            {
              "matched": false
            }
          ]
        }
