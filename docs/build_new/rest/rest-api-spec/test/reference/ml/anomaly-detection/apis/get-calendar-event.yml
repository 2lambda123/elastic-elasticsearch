---
"line_112":
  - skip:
      features:
        - default_shards
        - stash_in_key
        - stash_in_path
        - stash_path_replace
        - warnings
        - always_skip
      reason: setup:calendar_outages_addevent
  - do:
      raw:
        method: GET
        path: "_ml/calendars/planned-outages/events"
  - is_false: _shards.failures
  - match:
      $body:
        {
          "count": 3,
          "events": [
            {
              "description": "event 1",
              "start_time": 1513641600000,
              "end_time": 1513728000000,
              "calendar_id": "planned-outages",
              "event_id": "$body.$_path"
            },
            {
              "description": "event 2",
              "start_time": 1513814400000,
              "end_time": 1513900800000,
              "calendar_id": "planned-outages",
              "event_id": "$body.$_path"
            },
            {
              "description": "event 3",
              "start_time": 1514160000000,
              "end_time": 1514246400000,
              "calendar_id": "planned-outages",
              "event_id": "$body.$_path"
            }
          ]
        }
---
"line_156":
  - skip:
      features:
        - default_shards
        - stash_in_key
        - stash_in_path
        - stash_path_replace
        - warnings
        - always_skip
      reason: setup:calendar_outages_addevent
  - do:
      raw:
        method: GET
        path: "_ml/calendars/planned-outages/events"
        start: "1635638400000"
        end: "1635724800000"
  - is_false: _shards.failures
