---
"line_45":
  - skip:
      features:
        - default_shards
        - stash_in_key
        - stash_in_path
        - stash_path_replace
        - warnings
  - do:
      raw:
        method: GET
        path: "_cluster/settings"
        include_defaults: ""
        filter_path: "*.cluster.routing.allocation.disk.watermark.high*"
  - is_false: _shards.failures
---
"line_79":
  - skip:
      features:
        - default_shards
        - stash_in_key
        - stash_in_path
        - stash_path_replace
        - warnings
  - do:
      raw:
        method: GET
        path: "_cat/allocation"
        v: ""
        s: "disk.avail"
        h: "node,disk.percent,disk.avail,disk.total,disk.used,disk.indices,shards"
---
"line_103":
  - skip:
      features:
        - default_shards
        - stash_in_key
        - stash_in_path
        - stash_path_replace
        - warnings
  - do:
      raw:
        method: GET
        path: "_cat/indices"
        v: ""
        s: "rep:desc,pri.store.size:desc"
        h: "health,index,pri,rep,store.size,pri.store.size"
---
"line_127":
  - skip:
      features:
        - default_shards
        - stash_in_key
        - stash_in_path
        - stash_path_replace
        - warnings
        - always_skip
      reason: illustration purposes only
  - do:
      raw:
        method: PUT
        path: "my_index,my_other_index/_settings"
        body: |
          {
            "index.number_of_replicas": 1
          }
  - is_false: _shards.failures
