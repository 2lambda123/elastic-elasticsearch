[[cluster]]
= Cluster APIs

[partintro]
--
["float",id="cluster-nodes"]
== Node specification

Most cluster level APIs allow to specify nodes with `node filters`, these filters
limit the results to selected nodes for corresponding APIs.(For example, you can
find it in APIs like `Cluster State`, `Task Management` and all the Nodes API like
`Nodes States`, `Nodes Info` etc.).

Node filters can be one or a list filters which is comma-seperated, each filter can be:

* `_local`
* `_master`
* `_all`
* a node id
* a node name, node address or node hostname (could be a pattern matched using `*` wildcard)
* `[master|data|ingest|coordinating_only]:[true|false]` <1> <2>
* custom `attr:value` (need to be set in configuration file and could be a pattern matched using `*` wildcard) <3>

IMPORTANT: node filters run in order in case of multiple, this is important when you use the exclusion case,
for example `/_all,master:false` means all the nodes exclude master-eligible, but `/master:false,_all` means
all the nodes as you exclude the master-eligible nodes firstly and then add all nodes in.

[NOTE]
===============================================
<1> pay attention that `master` means master-eligible nodes, not the current master which is represented by `_master`.
<2> `false` means exclude the specified type of nodes.
<3> the custom `attr:value` should be defined in configuration file.
===============================================

Here are some node filters examples:

[source,js]
--------------------------------------------------
# Local node
GET /_nodes/_local
# Master node
GET /_nodes/_master
# All nodes
GET /_nodes/_all
# Using node name
GET /_nodes/node_name_goes_here
GET /_nodes/node_name_goes_*
# Using address
GET /_nodes/10.0.0.3,10.0.0.4
GET /_nodes/10.0.0.*
# Using built-in `attr:value`
GET /_nodes/_all,master:false
GET /_nodes/data:true,ingest:true
GET /_nodes/coordinating_only:true
# Using custom `attr:value` (set something like `node.attr.rack: 2` in configuration file)
GET /_nodes/rack:2
GET /_nodes/ra*:2
GET /_nodes/ra*:2*
--------------------------------------------------
// CONSOLE
--

include::cluster/health.asciidoc[]

include::cluster/state.asciidoc[]

include::cluster/stats.asciidoc[]

include::cluster/pending.asciidoc[]

include::cluster/reroute.asciidoc[]

include::cluster/update-settings.asciidoc[]

include::cluster/nodes-stats.asciidoc[]

include::cluster/nodes-info.asciidoc[]

include::cluster/nodes-usage.asciidoc[]

include::cluster/remote-info.asciidoc[]

include::cluster/tasks.asciidoc[]

include::cluster/nodes-hot-threads.asciidoc[]

include::cluster/allocation-explain.asciidoc[]
