[[breaking_70_cluster_changes]]
=== Cluster changes

==== `:` is no longer allowed in cluster name

Due to cross-cluster search using `:` to separate a cluster and index name,
cluster names may no longer contain `:`.

==== New default for `wait_for_active_shards` parameter of the open index command

The default value for the `wait_for_active_shards` parameter of the open index API
is changed from 0 to 1, which means that the command will now by default wait for all
primary shards of the opened index to be allocated.

==== Shard preferences `_primary`, `_primary_first`, `_replica`, and `_replica_first` are removed
These shard preferences are removed in favour of the `_prefer_nodes` and `_only_nodes` preferences.

==== Discontinue archiving broken cluster settings
We will no longer archive unknown or invalid cluster settings (prepending "archived." to a broken setting's name).
Instead, we will fail to recover a cluster state with broken cluster settings.
The solution for users in an upgrade case would be to rollback to the previous version,
address the settings that would be unknown or invalid in the next major version, and then proceed with the upgrade.
