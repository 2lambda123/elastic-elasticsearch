[[elasticsearch-keystore-command]]
== Elasticsearch-keystore Command

The `elasticsearch-keystore` command manages secure settings in the {es}
keystore.

[float]
=== Synopsis

[source,shell]
--------------------------------------------------
bin/elasticsearch-keystore
([add] [--stdin <setting>]) |
[add-file] |
[create] |
[list] |
[remove])
[-h, --help]
[-s, --silent]
[-v, --verbose]
--------------------------------------------------

[float]
=== Description

{es} provides a keystore that you can use to store settings that relate to
sensitive information. The `elasticsearch-keystore create` command generates a
`elasticsearch.keystore` file, which you can secure by using password
protection. For more information about the location of config files, see
<<config-files-location>>.

Run the command as the user that will run {es}.

[float]
=== Parameters

`add`:: Adds a string setting to the keystore.

`add-file`:: Adds a file setting to the keystore.

`create`:: Creates a new {es} keystore.

`-h, --help`:: Shows help.

`list`:: Lists entries in the keystore.

`remove`:: Removes a setting from the keystore.

`-s, --silent`:: Shows minimal output.

`--stdin <setting>`:: Specifies the name of the setting to add to the keystore.
If you specify the `add` parameter without the `--stdin` parameter, the command
prompts you for the name of the setting.

`-v, --verbose`:: Shows verbose output.

[float]
=== Examples

To create the `elasticsearch.keystore`, use the `create` command:

[source,sh]
----------------------------------------------------------------
bin/elasticsearch-keystore create
----------------------------------------------------------------

The file `elasticsearch.keystore` is created alongside `elasticsearch.yml`.

To generate a list of the settings in the keystore, use the `list` command:

[source,sh]
----------------------------------------------------------------
bin/elasticsearch-keystore list
----------------------------------------------------------------

You can add sensitive string settings, like authentication credentials for cloud
plugins, by using the `add` command:

[source,sh]
----------------------------------------------------------------
bin/elasticsearch-keystore add the.setting.name.to.set
----------------------------------------------------------------

The command prompts you for the value of the setting. To pass the value
through stdin, use the `--stdin` flag:

[source,sh]
----------------------------------------------------------------
cat /file/containing/setting/value | bin/elasticsearch-keystore add --stdin the.setting.name.to.set
----------------------------------------------------------------

To remove a setting from the keystore, use the `remove` command:

[source,sh]
----------------------------------------------------------------
bin/elasticsearch-keystore remove the.setting.name.to.remove
----------------------------------------------------------------
