[[discovery-settings]]
=== Discovery settings

Elasticsearch uses a custom discovery implementation called "Zen Discovery" for
node-to-node clustering and master election. There are two important discovery
settings that should be configured before going to production.

[float]
[[unicast.hosts]]
==== `discovery.zen.ping.unicast.hosts`

Out of the box, without any network configuration, Elasticsearch will bind to
the available loopback addresses and will scan ports 9300 to 9305 to try to
connect to other nodes running on the same server. This provides an auto-
clustering experience without having to do any configuration.

When the moment comes to form a cluster with nodes on other servers, you have to
provide a seed list of other nodes in the cluster that are likely to be live and
contactable. This can be specified as follows:

[source,yaml]
--------------------------------------------------
discovery.zen.ping.unicast.hosts:
   - 192.168.1.10:9300
   - 192.168.1.11 <1>
   - seeds.mydomain.com <2>
--------------------------------------------------
<1> The port will default to `transport.profiles.default.port` and fallback to
    `transport.tcp.port` if not specified.
<2> A hostname that resolves to multiple IP addresses will try all resolved
    addresses.

[float]
[[initial_master_nodes]]
==== `cluster.initial_master_nodes`

Starting an Elasticsearch cluster for the very first time requires a
<<modules-discovery-bootstrap-cluster,cluster bootstrapping>> step.
In <<dev-vs-prod-mode,development mode>>,
with no discovery settings configured, this step is automatically
performed by the nodes themselves. As this auto-bootstrapping is
<<modules-discovery-quorums,inherently unsafe>>, running a node in
<<dev-vs-prod-mode,production mode>> requires an explicit cluster
bootstrapping step.
