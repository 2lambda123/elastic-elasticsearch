[role="xpack"]
[[transform-setup]]
= Set up {transforms}
++++
<titleabbrev>Setup</titleabbrev>
++++

[discrete]
[[requirements-overview]]
== Requirements overview

To use {transforms}, you must have:

[%interactive]
- [ ] the {subscriptions}[appropriate license]
- [ ] at least one <<transform-node,{transform} node>>
- [ ] security privileges assigned to users that:
+
--
* grant use of {transforms}, and
* grant access to source and destination indices
--

[discrete]
[[transform-privileges]]
== Security privileges

Assigning security privileges affects how users access {transforms}. Consider 
the two main categories:

* *<<transform-es-security-privileges>>*: uses an {es} client, cURL, or {kib}
**{dev-tools-app}** to access {transforms} via {es} APIs. This scenario requires
{es} security privileges.
* *<<transform-kib-security-privileges>>*: uses {transforms} in {kib}. This
scenario requires {kib} feature privileges and {es} security privileges.

You can configure these privileges under **{stack-manage-app}** > **Security**
in {kib} or via the respective {es} security APIs.

[discrete]
[[transform-es-security-privileges]]
=== {es} API user

The {es} {security-features} provide <<built-in-roles,built-in roles>>
and <<security-privileges,privileges>> that make it easier to control
which users can manage or view {transforms}.

To _view_ the configuration and status of {transforms}, you must have:

* `transform_user` built-in role or `monitor_transform`
cluster privileges

To _manage_ {transforms}, you must have:

* `transform_admin` built-in role or `manage_transform`
cluster privileges
* `read` and `view_index_metadata` index privileges on source indices
* `read`, `create_index`, and `index` index privileges on destination indices

For more information, see <<security-privileges>> and <<built-in-roles>>.

[discrete]
[[transform-kib-security]]
=== {kib} security

[discrete]
[[transform-kib-visibility-spaces]]
==== Feature visibility in Spaces

{kibana-ref}/xpack-spaces.html[Spaces] enable you to organize your source and 
destination indices and other saved objects in {kib} and to see only the objects 
that belong to your space. However, this limited scope does not apply to 
{transforms}; they are visible in all spaces.

//TBD: Does this likewise mean that transforms have access to data that exists in any space?

[discrete]
[[transform-kib-security-privileges]]
==== {kib} user

Within a {kib} space, for full access to {transforms}, you must have:

[%interactive]
* [ ] `Data Views Management: All` {kib} feature privileges
//TBD Is this feature privilege required in order to create a data view for the destination indices?
* [ ] `transform_admin` built-in role or `manage_transform` cluster privileges
* [ ] `kibana_admin` built-in role
* [ ] `monitor` cluster privileges
//TBD is monitor included in transform_admin?
* [ ] data views for your source indices
* [ ] `read` and `view_index_metadata` index privileges on source indices
* [ ] `create_index`, `index`, `read`, and `monitor` index privileges on
destination indices

Within a {kib} space, for read-only access to {transforms}, you must have:

[%interactive]
* [ ] `transform_user` built-in role or `monitor_transform` cluster privileges
* [ ] data views for your source and destination indices
* [ ] `read`, and `view_index_metadata` index privileges on source indices and
destination indices
