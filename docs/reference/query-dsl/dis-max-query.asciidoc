[[query-dsl-dis-max-query]]
=== Disjunction Max Query

Returns documents matching one or more wrapped queries, called query clauses or
clauses.

If a returned document matches multiple query clauses, the `dis_max` query
assigns the document the highest relevance score from any matching clause.

[[query-dsl-dis-max-query-ex-request]]
==== Example request

[source,js]
----
GET /_search
{
    "query": {
        "dis_max" : {
            "queries" : [
                { "match" : { "title" : "Quick pets" }},
                { "match" : { "body" : "Quick pets" }}
            ],
            "boost" : 1.2,
            "tie_breaker" : 0.7
        }
    }
}    
----
// CONSOLE

[[query-dsl-dis-max-query-top-level-params]]
==== Top-level parameters for `dis_max`

`queries` (Required)::
Contains one or more query clauses. Returned documents **must match one or
more** of these queries. If a document matches multiple queries, {es} uses the
highest <<query-filter-context, relevance score>>.

`boost` (Optional)::
+
--
Floating point number used to decrease or increase the
<<query-filter-context, relevance scores>> of a query. Defaults to `1.0`.

You can use the `boost` parameter to adjust relevance scores for searches
containing two or more queries.

Boost values are relative to the default value of `1.0`. A boost value between
`0` and `1.0` decreases the relevance score. A value greater than `1.0`
increases the relevance score.
--

`tie_breaker` (Optional)::
+
--
Floating point number between `0` and `1.0` used to increase the
<<query-filter-context, relevance scores>> of documents matching multiple query
clauses. Defaults to `0.0`.

If a document matches multiple clauses, the `dis_max` query calculates the
relevance score for the document as follows:

. Take the highest relevance score from a matching clause.
. Multiply the score from any other matching clauses by the `tie_breaker` value.
. Add the highest score to the multiplied scores and normalize.

If the `tie_breaker` value is greater than `0.0`, all matching clauses count,
but the clause with the highest score counts most.
--