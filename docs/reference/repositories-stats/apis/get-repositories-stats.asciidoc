[[get-repositories-stats-api]]
=== Repositories statistics API
++++
<titleabbrev>Repositories statistics</titleabbrev>
++++

Returns cluster repositories utilization statistics.

[[get-repositories-stats-api-request]]
==== {api-request-title}

`GET /_nodes/<node_id>/_repositories_stats`

[[get-repositories-stats-api-desc]]
==== {api-description-title}

You can use the cluster repositories statistics API to retrieve repository utilization statistics in a cluster.


All the nodes selective options are explained <<cluster-nodes,here>>.

[[get-repositories-stats-api-path-params]]
==== {api-path-parms-title}

include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=node-id]

[[get-repositories-stats-api-query-params]]
==== {api-query-parms-title}

[role="child_attributes"]
[[get-repositories-stats-api-response-body]]
==== {api-response-body-title}

`_nodes`::
(object)
Contains statistics about the number of nodes selected by the request.
+
.Properties of `_nodes`
[%collapsible%open]
====
`total`::
(integer)
Total number of nodes selected by the request.

`successful`::
(integer)
Number of nodes that responded successfully to the request.

`failed`::
(integer)
Number of nodes that rejected the request or failed to respond. If this value
is not `0`, a reason for the rejection or failure is included in the response.
====

`cluster_name`::
(string)
Name of the cluster. Based on the <<cluster.name>> setting.

`nodes`::
(object)
Contains repository utilization statistics for the nodes selected by the request.
+
.Properties of `nodes`
[%collapsible%open]
====
`<node_id>`::
(array)
An array of repository utilization statistics for the node.
+
.Properties of objects in `node_id`
[%collapsible%open]
=====
`repository_name`::
(string) 
Repository name.

`repository_type`::
(string) 
Repository type.

`repository_location`::
(string) 
Represents an unique location within the repository, 
i.e. a `bucket` + `base_path`.

`repository_ephemeral_id`::
(string) 
An identifier that changes every time the repository is updated.

`repository_started_at`::
(long)
Time the repository was created or updated. Recorded in milliseconds
since the https://en.wikipedia.org/wiki/Unix_time[Unix Epoch].

`repository_stopped_at`::
(long)
Time the repository was deleted or updated. Recorded in milliseconds
since the https://en.wikipedia.org/wiki/Unix_time[Unix Epoch].

`request_counts`::
(object) 
An object with the number of request performed against the repository
grouped by request type.
+
.Properties of `request_counts` for repository type `Azure`
[%collapsible%open]
======
`HEAD`::
(long) Number of https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob-properties[Get Blob Properties] requests.
`GET`::
(long) Number of https://docs.microsoft.com/en-us/rest/api/storageservices/get-blob[Get Blob] requests.
`PUT`::
(long) Number of https://docs.microsoft.com/en-us/rest/api/storageservices/put-blob[Put Blob] requests.
======
+
.Properties of `request_counts` for repository type `GCP`
[%collapsible%open]
======
`GET`::
(long) Number of https://cloud.google.com/storage/docs/json_api/v1/objects/get[GET] requests.
`LIST`::
(long) Number of https://cloud.google.com/storage/docs/json_api/v1/objects/list[LIST] requests.
`PUT`::
(long) Number of https://cloud.google.com/storage/docs/performing-resumable-uploads[PUT] requests.
`POST`::
(long) Number of https://cloud.google.com/storage/docs/json_api/v1/objects/insert[POST] requests.
======
+
.Properties of `request_counts` for repository type `S3`
[%collapsible%open]
======
`GET`::
(long) Number of https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html[GET] requests.
`LIST`::
(long) Number of https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjects.html[LIST] requests.
`PUT`::
(long) Number of https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html[PUT] requests.
`POST`::
(long) Number of https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuoverview.html[MultiPart] requests.
======
=====
====
