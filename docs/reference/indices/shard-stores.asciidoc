[[indices-shards-stores]]
== Indices Shard Stores

Provides store information for shard copies of indices.
Store information reports on which nodes shard copies exist, the shard
copy version, indicating how recent they are, and any exceptions
encountered while opening the shard index or from earlier engine failure.

By default, only lists store information for shards that have at least one
unallocated copy. When the cluster `status` is yellow, this will list store
information for shards that have at least one unassigned replica. When the
cluster `status` is red, this will list store information for shards, which
are unassigned.

Endpoints include shard stores information for a specific index, several
indices, or all:

[source,js]
--------------------------------------------------
curl -XGET 'http://localhost:9200/test/_shard_stores'
curl -XGET 'http://localhost:9200/test1,test2/_shard_stores'
curl -XGET 'http://localhost:9200/_shard_stores'
--------------------------------------------------

The default scope of shards to list store information can be changed through
`status` param. Defaults to 'yellow'.
Use 'green' to list store information for active shards and 'all' for
store information on all shards.

[source,js]
--------------------------------------------------
curl -XGET 'http://localhost:9200/_shard_stores?status=all'
--------------------------------------------------

Response:

The shard stores information is grouped by indices and shard ids.

[source,js]
--------------------------------------------------
{
    ...
   "0": { <1>
        "stores": [ <2>
            {
                "sPa3OgxLSYGvQ4oPs-Tajw": { <3>
                    "name": "node_t0",
                    "transport_address": "local[1]",
                    "attributes": {
                        "enable_custom_paths": "true",
                        "mode": "local"
                    }
                },
                "version": 4, <4>
                "allocation" : "PRIMARY" | "REPLICA" | "UNUSED", <6>
                "store_exception": ... <5>
            },
            ...
        ]
   },
    ...
}
--------------------------------------------------
<1> The key is the corresponding shard id for the store information
<2> A list of store information for all copies of the shard
<3> The node information that hosts a copy of the shard, the key
    is the unique node id.
<4> The version of the shard copy
<5> The status of the shard copy, whether it is used as a
    primary, replica or not used at all
<6> Any exception encountered while opening the shard index or
    from earlier engine failure
