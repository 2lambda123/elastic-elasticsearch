[role="xpack"]
[testenv="basic"]

[discrete]
[[match-only-text-field-type]]
=== Match-only text field type

A variant of <<text,`text`>> that trades scoring and efficiency of positional
queries for space efficiency. This field effectively stores data the same way as
a `text` field that only indexes documents (`index_options: docs`) and disables
norms (`norms: false`). Term queries perform as fast if not faster as on `text`
fields, however queries that need positions such as the
<<query-dsl-match-query-phrase,`match_phrase` query>> perform slower as they
need to look at the `_source` document to verify whether a phrase matches. All
queries return constant scores that are equal to 1.0.

[source,console]
--------------------------------
PUT logs
{
  "mappings": {
    "properties": {
      "@timestamp": {
        "type": "date"
      },
      "message": {
        "type": "match_only_text"
      }
    }
  }
}
--------------------------------

`match_only_text` supports the same queries as `text`. And like `text`, it
doesn't support sorting or aggregating.

[discrete]
[[match-only-text-params]]
==== Parameters for match-only text fields

The following mapping parameters are accepted:

[horizontal]

<<analyzer,`analyzer`>>::

    The <<analysis,analyzer>> which should be used for
    the `text` field, both at index-time and at
    search-time (unless overridden by the  <<search-analyzer,`search_analyzer`>>).
    Defaults to the default index analyzer, or the
    <<analysis-standard-analyzer,`standard` analyzer>>.

<<multi-fields,`fields`>>::

    Multi-fields allow the same string value to be indexed in multiple ways for
    different purposes, such as one field for search and a multi-field for
    sorting and aggregations, or the same string value analyzed by different
    analyzers.

<<mapping-field-meta,`meta`>>::

    Metadata about the field.

<<search-analyzer,`search_analyzer`>>::

    The <<analyzer,`analyzer`>> that should be used at search time on
    the `text` field. Defaults to the `analyzer` setting.

<<search-quote-analyzer,`search_quote_analyzer`>>::

    The <<analyzer,`analyzer`>> that should be used at search time when a
    phrase is encountered. Defaults to the `search_analyzer` setting.
