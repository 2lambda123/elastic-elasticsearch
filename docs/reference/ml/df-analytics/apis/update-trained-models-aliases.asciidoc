[role="xpack"]
[testenv="platinum"]
[[update-trained-models-aliases]]
= Update Trained Models Aliases API
[subs="attributes"]
++++
<titleabbrev>Update Trained Models Aliases</titleabbrev>
++++

Updates trained models alias. These model aliases can be used instead of the trained model ID
when referencing the model in the stack. Model aliases must be unique, and a trained model can have
more than one model alias referring to it. But a model alias can only refer to a single trained model.

beta::[]

[[ml-update-trained-models-aliases-request]]
== {api-request-title}

`POST _ml/trained_models/model_aliases/<model_alias>/_update`


[[ml-update-trained-models-aliases-prereq]]
== {api-prereq-title}

If the {es} {security-features} are enabled, you must have the following
built-in roles and privileges:

* `machine_learning_admin`

For more information, see <<built-in-roles>>, <<security-privileges>>, and
{ml-docs-setup-privileges}.

[[ml-update-trained-models-aliases-desc]]
== {api-description-title}

This API optionally creates a new model alias to refer to trained models, or updates an existing
trained model's alias.

When updating an existing model alias to a new model ID, this API will return a warning if the models
are of different inference types. Example, if attempting to update the model alias
`flights-delay-prediction` from a regression model to a classification model, the API will error.

The API will return a warning if there are very few input fields in common between the old
and new models for the model alias.

[[ml-update-trained-models-aliases-path-params]]
== {api-path-parms-title}

`model_alias`::
(Required, string)
The model alias to create or update. The model_alias cannot end in numbers.

[role="child_attributes"]
[[ml-update-trained-models-aliases-request-body]]
== {api-request-body-title}

`new_model_id`::
(Require, string)
The trained model ID to which the model alias should refer.

`old_model_id`::
(Optional, string)
The current trained model ID to which the model alias refers. If not provided,
the API assumes that the provided `model_alias` doesn't already exist.

[[ml-update-trained-models-aliases-example]]
== {api-examples-title}

[[ml-update-trained-models-aliases-example-new-alias]]
=== Creating a new model alias

The following example shows how to create a new model alias for a trained model ID.

[source,console]
--------------------------------------------------
POST _ml/trained_models/model_aliases/flight_delay_model/_update
{
  "new_model_id": "flight-delay-prediction-1574775339910"
}
--------------------------------------------------
// TEST[skip:setup kibana sample data]

[[ml-update-trained-models-aliases-example-update-alias]]
=== Updating an existing model alias

The following example shows how to update an existing model alias for a trained model ID.

[source,console]
--------------------------------------------------
POST _ml/trained_models/model_aliases/flight_delay_model/_update
{
  "old_model_id": "flight-delay-prediction-1574775339910"
  "new_model_id": "flight-delay-prediction-1580004349800"
}
--------------------------------------------------
// TEST[skip:setup kibana sample data]
