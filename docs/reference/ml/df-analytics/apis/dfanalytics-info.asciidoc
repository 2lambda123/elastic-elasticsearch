[role="xpack"]
[testenv="platinum"]
[[dfanalytics-info]]
=== {dfanalytics} info API

[subs="attributes"]
++++
<titleabbrev>{dfanalytics} info API</titleabbrev>
++++

Retrieves info about a {dataframe-analytics-config}.

experimental[]

[[ml-dfanalytics-info-request]]
==== {api-request-title}

`GET _ml/data_frame/analytics/_info`
`POST _ml/data_frame/analytics/_info`
`GET _ml/data_frame/analytics/<data_frame_analytics_id/_info`
`POST _ml/data_frame/analytics/<data_frame_analytics_id/_info`

[[ml-dfanalytics-info-prereq]]
==== {api-prereq-title}

* You must have `monitor_ml` privilege to use this API. For more
information, see <<security-privileges>> and <<built-in-roles>>.

[[ml-dfanalytics-info-desc]]
==== {api-description-title}

This API retrieves information that includes:

* field selection which explains which fields are included or not in the analysis
* memory estimation that can be used when deciding the appropriate value for `model_memory_limit` setting later on

about either an existing {dfanalytics-job} or one that has not been created yet.

[[ml-dfanalytics-info-path-params]]
==== {api-path-parms-title}

`<data_frame_analytics_id>`::
  (Optional, string) A numerical character string that uniquely identifies the
  {dfanalytics-job} to retrieve info for. This identifier can contain lowercase alphanumeric
  characters (a-z and 0-9), hyphens, and underscores. It must start and end with
  alphanumeric characters.

[[ml-dfanalytics-info-request-body]]
==== {api-request-body-title}

`data_frame_analytics_config`::
  (Optional, object) Intended configuration of {dfanalytics-job}. For more information, see
  <<ml-dfanalytics-resources>>.
  Note that `id` and `dest` don't need to be provided in the context of this API.

[[ml-dfanalytics-info-results]]
==== {api-response-body-title}

The API returns a response that contains the following:

`field_selection`::
  (array) An array of objects that explain selection for each field, sorted by the field names.

  `name`::
    (string) The field name.

  `mapping_types`::
    (string) The mapping types of the field.

  `is_included`::
    (boolean) Whether the field is selected to be included in the analysis.

  `is_included`::
    (boolean) Whether the field is required.

  `feature_type`::
    (string) The feature type of this field for the analysis. May be `categorical` or `numerical`.

  `reason`::
    (string) The reason a field is not selected to be included in the analysis.

`memory_estimation`::
  (object) An object containing the memory estimates.

  `expected_memory_without_disk`::
    (string) Estimated memory usage under the assumption that the whole {dfanalytics} should happen in memory
    (i.e. without overflowing to disk).

  `expected_memory_with_disk`::
    (string) Estimated memory usage under the assumption that overflowing to disk is allowed during {dfanalytics}.
    `expected_memory_with_disk` is usually smaller than `expected_memory_without_disk` as using disk allows to
    limit the main memory needed to perform {dfanalytics}.

[[ml-dfanalytics-info-example]]
==== {api-examples-title}

[source,console]
--------------------------------------------------
POST _ml/data_frame/analytics/_info
{
  "data_frame_analytics_config": {
    "source": {
      "index": "logdata"
    },
    "analysis": {
      "outlier_detection": {}
    }
  }
}
--------------------------------------------------
// TEST[skip:TBD]

The API returns the following results:

[source,console-result]
----
{
  "field_selection": [

  ],
  "memory_estimation": {
    "expected_memory_without_disk": "128MB",
    "expected_memory_with_disk": "32MB"
  }
}
----
