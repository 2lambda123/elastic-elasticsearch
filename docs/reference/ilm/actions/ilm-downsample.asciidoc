[role="xpack"]
[[ilm-downsample]]
=== Downsample

preview::[]

Phases allowed: hot, warm, cold.

Aggregates a <<tsds,time series data stream>> index and stores
the results, including statistics about the original data, in a new read-only
index. For example, you can roll up hourly data into daily or weekly summaries.

This action corresponds to the  <<indices-downsample-data-stream,downsample API>>.

The name of the resulting rollup index is
`rollup-<original-index-name>-<random-uuid>`. If {ilm-init} performs the
`rollup` action on a backing index for a data stream, the rollup index is a
backing index for the same stream.

[role="child_attributes"]
[[ilm-downsample-options]]
==== Options

`fixed_interval`:: (Required, string) The
<<rollup-understanding-group-intervals,fixed time interval>> into which the data
will be downsampled up.

[[ilm-downsample-ex]]
==== Example

////
[source,console]
----
PUT _ilm/policy/my-rollup-ilm-policy
{
  "policy": {
    "phases": {
      "delete": {
        "actions": {
          "delete" : { }
        }
      }
    }
  }
}
----
////

[source,console]
----
PUT _ilm/policy/datastream_policy   
{
  "policy": {                       
    "phases": {
      "hot": {                      
        "actions": {
          "rollover": {             
            "max_docs": 1
          },
          "rollup": {
  	          "fixed_interval": "1h"
  	      }
        }
      }
    }
  }
}
----
// TEST[continued]