[role="xpack"]
[[put-engine]]
= Put Engine API
[subs="attributes"]
++++
<titleabbrev>Upsert engines</titleabbrev>

Creates or updates a search engine.


[[put-engine-request]]
== {api-request-title}

`PUT _engine/<engine_id>`

[[put-engine-prereq]]
== {api-prereq-title}

Requires the `manage_engine` cluster privilege.
Also requires manage `manage_index` privileges on all indices that are added to the search engine.


//[[list-engines-desc]]
//== {api-description-title}

[[put-engine-path-params]]
== {api-path-parms-title}

`create`::
(Optional, Boolean)
If true, this request will fail attempting to create a search engine that already exists.

[[put-engines-response-codes]]
== {api-response-codes-title}

`403`::
Insufficient privileges

`404`::
Engine `<engine_id>` does not exist.

`409`::
Engine `<engine_id>` exists and `create` is `true`.


[[put-engine-example]]
== {api-examples-title}

The following example creates a new search engine:

[source,console]
--------------------------------------------------
PUT _engine/my-engine?create
{
  "indices": [ "index1", "index2" ],
  "analytics_collection_name": "my-analytics-collection"
}
--------------------------------------------------
// TEST[skip:TBD]

The following example creates or updates an existing search engine:

[source,console]
--------------------------------------------------
PUT _engine/my-engine
{
  "indices": [ "index1", "index2", "index3" ],
  "analytics_collection_name": "my-analytics-collection"
}
--------------------------------------------------
// TEST[skip:TBD]
