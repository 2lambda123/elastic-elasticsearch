[[repository-src-only]]
=== Source Only Repository

The Source Only repository adds support for creating `_source` only snapshots using any other
available repository as it's storage backend. This allows using {ref}/modules-snapshots.html[Snapshot/Restore]
to create incremental, storage optimized, and minimal snapshots of an index.


[[repository-src-only-usage]]
==== Configuration

The `_source` only repository always requires a delegate repository to be used as it's storage backend.
In order to use the `fs` repository:

[source,js]
-----------------------------------
PUT _snapshot/my_src_only_repository
{
  "type": "source",
  "settings": {
    "delegate_type": "fs",
    "location": "my_backup_location"
  }
}
-----------------------------------
// CONSOLE

Since the `_source` only repository doesn't snapshot any index or doc-values structures but only stored
fields and index metadata, it's required to reindex the data after the restore process. The restored index is read-only
and can only serve scroll requests in oder to reindex. Individual queries will succeed but won't match or filter any
documents except of a `match_all` query. The restored will also have an empty mapping but allows access to the original
mapping via the types top level `meta` element.

Source only snapshots take approximately 30% to 50% of the size on disk compared to a full snapshot. A source only snapshot
can only be taken if the original document source is maintained in the index and no source-filtering is applied.
