[[repository-src-only]]
=== Source Only Repository

The Source Only repository adds support for creating `_source` only snapshots using any other
available repository as it's storage backend. This allows using {ref}/modules-snapshots.html[Snapshot/Restore]
to create incremental, storage optimized, and minimal snapshots of an index.


[[repository-src-only-usage]]
==== Configuration

The `_source` only repository always requires a delegate repository to be used as it's storage backend.
In order to use the `fs` repository:

[source,js]
-----------------------------------
PUT _snapshot/my_src_only_repository
{
  "type": "source",
  "settings": {
    "delegate_type": "fs",
    "location": "my_backup_location"
  }
}
-----------------------------------
// CONSOLE

Since the `_source` only repository doesn't snapshot any index or doc-values structures but only stored
fields and index metadata, it's required to reindex the data during the restore process. This can either happen
as a full re-index based on the mapping of the original index or in a minimal form were only the internal data-structures
are recreated like the `_id` field in order to update the index. The latter can be configured in the repository settings
by setting `"minimal": true`. This allows updates and get operations but won't allow for aggregations or searches.

A minimal restore is useful if the data is only needed to be re-indexed into another index or if individual documents should be
modified or deleted.

During restore the re-indexing progress can be monitored via <<indices-recovery,recovery>> API that shows the per-document progress
under the `translog` recovery phase.
