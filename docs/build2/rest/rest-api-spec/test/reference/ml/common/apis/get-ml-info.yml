---
"line_38":
  - skip:
      features:
        - default_shards
        - stash_in_key
        - stash_in_path
        - stash_path_replace
        - warnings
  - do:
      raw:
        method: GET
        path: "_ml/info"
  - is_false: _shards.failures
  - match:
      $body:
        {
          "defaults" : {
            "anomaly_detectors" : {
              "categorization_analyzer" : {
                "char_filter" : [
                  "first_line_with_letters"
                ],
                "tokenizer" : "ml_standard",
                "filter" : [
                  {
                    "type" : "stop",
                    "stopwords" : [
                      "Monday",
                      "Tuesday",
                      "Wednesday",
                      "Thursday",
                      "Friday",
                      "Saturday",
                      "Sunday",
                      "Mon",
                      "Tue",
                      "Wed",
                      "Thu",
                      "Fri",
                      "Sat",
                      "Sun",
                      "January",
                      "February",
                      "March",
                      "April",
                      "May",
                      "June",
                      "July",
                      "August",
                      "September",
                      "October",
                      "November",
                      "December",
                      "Jan",
                      "Feb",
                      "Mar",
                      "Apr",
                      "May",
                      "Jun",
                      "Jul",
                      "Aug",
                      "Sep",
                      "Oct",
                      "Nov",
                      "Dec",
                      "GMT",
                      "UTC"
                    ]
                  },
                  {
                    "type": "limit",
                    "max_token_count": "100"
                  }
                ]
              },
              "model_memory_limit" : "1gb",
              "categorization_examples_limit" : 4,
              "model_snapshot_retention_days" : 10,
              "daily_model_snapshot_retention_after_days" : 1
            },
            "datafeeds" : {
              "scroll_size" : 1000
            }
          },
          "upgrade_mode": $body.upgrade_mode,
          "native_code" : {
            "version": "$body.native_code.version",
            "build_hash": "$body.native_code.build_hash"
          },
          "limits" : {
            "effective_max_model_memory_limit": "$body.limits.effective_max_model_memory_limit",
            "total_ml_memory": "$body.limits.total_ml_memory",
            "total_ml_processors": $body.limits.total_ml_processors,
            "max_single_ml_node_processors": $body.limits.max_single_ml_node_processors
          }
        }
