[[painless-update-by-query-context]]
=== Update By Query Context

Use a Painless script in an
{es_version}/docs-update-by-query.html[update by query] operation to add,
modify, or delete fields within each of a set of documents collected as the
result of query.

*Variables*

`params` (`Map`):: User-defined parameters passed in at query-time.

`ctx['_source']` (`Map`):: Contains extracted JSON in a `Map` and `List`
        structure for the fields existing in a stored document. Use
        `ctx['_source']` to add, modify, or delete documents by changing the
        `Map/List` structure.

`ctx['_index']` (`String`):: The name of the index.

`ctx['_now']` (`long`):: The current time in milliseconds.

`ctx['_op']` (`String`):: The name of the operation.

`ctx[_id]` (`int`):: The document id.

`ctx['_version']` (`int`):: The current version of the document.

*API*

The standard <<painless-api-reference, Painless API>> is available.
