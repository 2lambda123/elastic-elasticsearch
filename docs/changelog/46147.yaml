pr: 46147
issues:
  - 45947
area: Infra/Settings, Snapshot/Restore
type: breaking
summary: Remove insecure settings
versions:
  - v8.0.0
breaking:
  notable: false
  title: Remove insecure settings
  anchor: remove_insecure_settings
  body: >-
    This commit removes the oxymoron of insecure secure settings from the code
    base. In particular, we remove the ability to set the access_key and
    secret_key for S3 repositories inside the repository definition (in the
    cluster state). Instead, these settings now must be in the keystore. Thus,
    it also removes some leniency where these settings could be placed in the
    elasticsearch.yml, would not be rejected there, but would not be consumed
    for any purpose.

    Relates #45947
