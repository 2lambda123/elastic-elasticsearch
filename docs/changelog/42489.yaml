pr: 42489
issues: []
area: Infra/Core
type: breaking
summary: Remove "nodes/0" folder prefix from data path
versions:
  - v8.0.0
breaking:
  notable: false
  title: Remove "nodes/0" folder prefix from data path
  anchor: remove_nodes_0_folder_prefix_from_data_path
  body: >-
    With the removal of `node.max_local_storage_nodes`, there is no need anymore
    to keep the data in subfolders indexed by a node ordinal. This PR makes it
    so that ES 8.0 will store data directly in `$DATA_DIR` instead of
    `$DATA_DIR/nodes/$nodeOrdinal`.

    Upon startup, Elasticsearch will check to see if there is data in the old location, and automatically move it to the new location. This automatic migration only works if `$nodeOrdinal` is 0, i.e., multiple node instances have not previously run on the same data path, which required for `node.max_local_storage_nodes` to explicitly be configured.
