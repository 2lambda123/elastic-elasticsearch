---
"default version type doesn't increment the version number":
  - do:
      index:
        index:   test
        type:    test
        id:      1
        body:    {"text": "test"}
  - do:
      indices.refresh: {}

  - do:
      reindex:
        index: test
  - match: {updated: 1}
  - match: {version_conflicts: 0}

  - do:
      get:
        index: test
        type:  test
        id:    1
  - match: {_version: 1}

---
"version_type=reindex doesn't increment the version number":
  - do:
      index:
        index:   test
        type:    test
        id:      1
        body:    {"text": "test"}
  - do:
      indices.refresh: {}

  - do:
      reindex:
        index: test
        version_type: reindex
  - match: {updated: 1}
  - match: {version_conflicts: 0}

  - do:
      get:
        index: test
        type:  test
        id:    1
  - match: {_version: 1}

---
"version_type=internal increments the version number":
  - do:
      index:
        index:   test
        type:    test
        id:      1
        body:    {"text": "test"}
  - do:
      indices.refresh: {}

  - do:
      reindex:
        index: test
        version_type: internal
  - match: {updated: 1}
  - match: {version_conflicts: 0}

  - do:
      get:
        index: test
        type:  test
        id:    1
  - match: {_version: 2}
