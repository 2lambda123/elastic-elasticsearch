setup:
  - skip:
      version: ' - 8.10.99'
      reason: 'Dynamic mapping of floats to dense_vector was added in 8.11'

---
"Fields with float arrays below the threshold still map as float":

  - do:
      index:
        index: test-too-short-still-float
        id: "1"
        refresh: true
        body:
          my_field: [ 230.0, 300.33, -34.8988, 15.555, -200.0 ]

  - do:
      indices.get_mapping:
        index: test-too-short-still-float

  - match: { test-to-short-still-float.mappings.my_field: float }
