---
"Create synonym set":
  - skip:
      version: " - 8.8.99"
      reason: Introduced in 8.9.0
      features: [ "allowed_warnings" ]
  - do:
      synonyms.put:
        synonym_set: test-create-synonyms
        body:
          synonyms:
            - synonym: "hello, hi"
            - synonym: "bye => goodbye"
              id: "test-id"
      allowed_warnings:
        - "this request accesses system indices: [.synonyms], but in a future major version, direct access to system indices will be prevented by default"


  - match: { result: "created" }

---
"Update synonym set":
  - skip:
      version: " - 8.8.99"
      reason: Introduced in 8.9.0
      features: [ "allowed_warnings" ]
  - do:
      synonyms.put:
        synonym_set: test-update-synonyms
        body:
          synonyms:
            - synonym: "hello, hi"
            - synonym: "bye => goodbye"
              id: "test-id"
      allowed_warnings:
        - "this request accesses system indices: [.synonyms], but in a future major version, direct access to system indices will be prevented by default"


  - do:
      synonyms.put:
        synonym_set: test-update-synonyms
        body:
          synonyms:
            - synonym: "other, another"
      allowed_warnings:
        - "this request accesses system indices: [.synonyms], but in a future major version, direct access to system indices will be prevented by default"

  - match: { result: "updated" }
