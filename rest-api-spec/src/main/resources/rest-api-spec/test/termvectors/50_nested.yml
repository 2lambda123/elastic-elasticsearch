setup:
  - do:
      indices.create:
        index: testidx
        body:
          mappings:
            _doc:
              properties:
                nested-field:
                  type : nested
                  properties:
                    sub-nested-text:
                      type: text
  - do:
      index:
        index: testidx
        type:  _doc
        id:    1
        body:
            "text" : "The quick brown fox is brown."
  - do:
      indices.refresh: {}

---
"Termvectors on nested fields should return empty results":

  - do:
      termvectors:
        index: testidx
        type:  _doc
        id: 1
        fields: ["nested-field"]
  - match: {term_vectors: {}}


  - do:
      termvectors:
        index: testidx
        type:  _doc
        id: 1
        fields: ["nested-field.sub-nested-text"]
  - match: {term_vectors: {}}
