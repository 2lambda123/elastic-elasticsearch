---
"Test cat thread_pool output":

  - do:
      cat.thread_pool:
        v: false

  - match:
      $body: |
               /  #host       ip                          read.active       read.queue       read.rejected       write.active       write.queue       write.rejected
               ^  (\S+   \s+  (\d{1,3}\.){3}\d{1,3}  \s+  \d+          \s+  \d+         \s+  \d+            \s+  \d+           \s+  \d+          \s+  \d+             \s+  \n)+  $/

  - do:
      cat.thread_pool:
          v: true

  - match:
      $body: |
               /^ host  \s+  ip                     \s+  read.active   \s+  read.queue   \s+  read.rejected   \s+  write.active \s+  write.queue \s+  write.rejected \s+  \n
                 (\S+   \s+  (\d{1,3}\.){3}\d{1,3}  \s+  \d+           \s+  \d+          \s+  \d+             \s+  \d+          \s+  \d+         \s+  \d+            \s+  \n)+  $/

  - do:
      cat.thread_pool:
          h: pid,id,h,i,po
          v: false

  - match:
      $body: |
               /  #pid       id          host       ip                          port
               ^  (\d+  \s+  \S{4}  \s+  \S+   \s+  (\d{1,3}\.){3}\d{1,3}  \s+  (\d+|-) \s+ \n)+  $/

  - do:
      cat.thread_pool:
          h: id,fsa,gea,ga,maa,oa,ra,sna,wa
          v: true
          full_id: true

  - match:
      $body: |
               /^  id   \s+  fsa  \s+  gea  \s+  ga  \s+  maa  \s+  oa   \s+  ra   \s+  sna  \s+  wa  \s+  \n
                  (\S+  \s+  \d+  \s+  \d+  \s+  \d+ \s+  \d+  \s+  \d+  \s+  \d+  \s+  \d+  \s+  \d+ \s+  \n)+  $/

  - do:
      cat.thread_pool:
          h: id,write.type,write.active,write.size,write.queue,write.queueSize,write.rejected,write.largest,write.completed,write.min,write.max,write.keepAlive
          v: true

  - match:
      $body: |
               /^  id  \s+  write.type               \s+  write.active \s+  write.size \s+  write.queue \s+  write.queueSize \s+  write.rejected \s+  write.largest \s+  write.completed \s+  write.min \s+  write.max \s+  write.keepAlive \s+  \n
                  (\S+ \s+  (cached|fixed|scaling)?  \s+          \d+  \s+        \d+  \s+         \d+  \s+             \d*  \s+            \d+  \s+           \d+  \s+             \d+  \s+       \d*  \s+       \d*  \s+             \S*  \s+  \n)+  $/

