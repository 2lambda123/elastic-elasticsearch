## Test analysis scripts

"condition":
    - do:
        indices.analyze:
          body:
            text: "Vorsprung Durch Technik"
            tokenizer: "whitespace"
            filter:
              - type: condition
                filter: [ "lowercase" ]
                script:
                  source: "token.term.length() > 5"

    - length: { tokens: 3 }
    - match: { tokens.0.token: "vorsprung" }
    - match: { tokens.1.token: "Durch" }
    - match: { tokens.2.token: "technik" }

---
"condition-vars":
    - do:
        indices.analyze:
          body:
            text: "Vorsprung Durch Technik"
            tokenizer: "whitespace"
            filter:
              - type: condition
                filter: [ "lowercase" ]
                script:
                  source: "token.position > 1 and token.positionIncrement > 0 and token.startOffset > 0 and token.endOffset > 0 and (token.positionLength == 1 or token.type == \"a\" or token.keyword)"

    - length: { tokens: 3 }
    - match: { tokens.0.token: "Vorsprung" }
    - match: { tokens.1.token: "durch" }
    - match: { tokens.2.token: "technik" }
