[role="xpack"]
[[security-api-saml-logout]]

=== SAML Logout API

Submits a request to invalidate a pair of access token and refresh token that was generated for a user using the
 <<security-api-saml-authenticate,SAML Authenticate API>>. If the SAML realm in {es} is configured accordingly and
the SAML IdP supports this, the response to this request will contain a URL to redirect the user to the IdP which
contains a SAML logout request (starting an SP-inititated SAML Single Logout).

{es} exposes all the necessary SAML related functionality via the SAML APIs. These APIs
are used internally by {kib} in order to provide SAML based authentication, but can also be used by other,
custom web applications or other clients. See also , <<security-api-saml-authenticate,SAML Authenticate API>>,
<<security-api-saml-prepare-authentication,SAML Prepare Authentication API>> and <<security-api-saml-invalidate,SAML Invalidate API>>.

==== Request

`POST /_security/saml/logout`

==== Request Body

The following parameters can be specified in the body of the request:

`token`::
The access token that was returned as a response to calling the <<security-api-saml-authenticate,SAML Authenticate API>>
earlier, or one that was received after refreshing the original one using the `refresh_token` that was returned.

`refresh_token`::
The refresh token that was returned as a response to calling the <<security-api-saml-authenticate,SAML Authenticate API>>
earlier, or one that was received after refreshing the original one.

==== Example

The following example invalidates the pair of tokens that were generated by calling the <<security-api-saml-authenticate,SAML Authenticate API>>
with a successful SAML response.

[source,js]
--------------------------------------------------
POST /_security/saml/logout
{
  "token" : "46ToAxZVaXVVZTVKOVF5YU04ZFJVUDVSZlV3"
  "refresh_token" : "mJdXLtmvTUSpoLwMvdBt_w"
}
--------------------------------------------------
// CONSOLE
// NOTEST

A successful response would include a URL containing a SAML logout request as a parameter so that the user can be
redirected back to the SAML IdP and initiate Single Logout

[source,js]
--------------------------------------------------
{
  "redirect" : "https://my-idp.org/logout/SAMLRequest=....",
}
--------------------------------------------------
// NOTCONSOLE
