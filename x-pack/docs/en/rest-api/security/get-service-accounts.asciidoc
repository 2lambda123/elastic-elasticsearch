[role="xpack"]
[[security-api-get-service-accounts]]
=== Get service accounts API

beta::[]

++++
<titleabbrev>Get service accounts</titleabbrev>
++++

Retrieves information about service accounts.


[[security-api-get-service-accounts-request]]
==== {api-request-title}

`GET /_security/service` +

`GET /_security/service/<namespace>` +

`GET /_security/service/<namespace>/<service>`

[[security-api-get-service-accounts-prereqs]]
==== {api-prereq-title}

* To use this API, you must have at least the `manage_service_account` cluster privilege.


[[security-api-get-service-accounts-desc]]
==== {api-description-title}

When you are running in production mode, the service account feature requires TLS on the HTTP interface.
See <<encrypt-http-communication>>. A runtime check prevents you from invoking any service account
related APIs or authenticating with a service account token unless TLS is enabled on the HTTP interface.

For more information about service accounts, see <<service-accounts>>.

[[security-api-get-service-accounts-path-params]]
==== {api-path-parms-title}

`namespace`::
  (Optional, string) An identifier for the namespace. If you omit this parameter, the API
  retrieves information about all service accounts. You must not also omit the `service`
  parameter when omitting this parameter.

`service`::
  (Optional, string) An identifier for the service name. If you omit this parameter, the API
  retrieves information about all service accounts belong to the specified `namespace`


[[security-api-get-service-accounts-response-body]]
==== {api-response-body-title}

A successful call returns an array of service accounts with the JSON representation of the
service accounts. It returns an empty object if no service account is found.

[[security-api-get-service-accounts-example]]
==== {api-examples-title}

To retrieve a service account, submit a GET request to the `/_security/service/<namespace>/<service>`
endpoint:

[source,console]
--------------------------------------------------
GET /_security/service/elastic/fleet-server
--------------------------------------------------

[source,console-result]
--------------------------------------------------
{
  "elastic/fleet-server": {
    "role_descriptor": {
      "cluster": [
        "monitor",
        "manage_own_api_key"
      ],
      "indices": [
        {
          "names": [
            "logs-*",
            "metrics-*",
            "traces-*",
            "synthetics-*",
            ".logs-endpoint.diagnostic.collection-*"
          ],
          "privileges": [
            "write",
            "create_index",
            "auto_configure"
          ],
          "allow_restricted_indices": false
        },
        {
          "names": [
            ".fleet-*"
          ],
          "privileges": [
            "read",
            "write",
            "monitor",
            "create_index",
            "auto_configure"
          ],
          "allow_restricted_indices": false
        }
      ],
      "applications": [],
      "run_as": [],
      "metadata": {},
      "transient_metadata": {
        "enabled": true
      }
    }
  }
}
--------------------------------------------------

Omit the `namespace` and `service` to retrieve all service accounts:

[source,console]
--------------------------------------------------
GET /_security/service
--------------------------------------------------

NOTE: Currently only a single service account is available.
