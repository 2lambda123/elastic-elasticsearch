[role="xpack"]
[[xes-6.0.0-rc2]]
== {es} {xpack} 6.0.0-rc2 Release Notes
++++
<titleabbrev>6.0.0-rc2 Release Notes</titleabbrev>
++++

[[xes-enhancement-6.0.0-rc2]]
[float]
=== Enhancements

Machine Learning::
* Added the `xpack.ml.max_model_memory_limit` setting, which can be dynamically
updated. For more information, see <<ml-settings>>.
// https://github.com/elastic/x-pack-elasticsearch/pull/2503[#2503] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2462[#2462])
// https://github.com/elastic/x-pack-elasticsearch/pull/2460[#2460]
* Added checks and error messages for the `ml.enabled` and `ml.max_open_jobs`
node attributes. These are reserved for internal use and their values should be
set by using `xpack.ml.enabled` and `xpack.ml.max_open_jobs`
<<ml-settings,{ml} settings>>.
// https://github.com/elastic/x-pack-elasticsearch/pull/2725[#2725] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2649[#2649])

Security::
* Improved the error messages that are returned by the `setup-passwords` command.
// https://github.com/elastic/x-pack-elasticsearch/pull/2724[#2724]

Watcher::
* Added verification that the required templates exist before {watcher} starts.
For more information, see
{xpack-ref}/how-watcher-works.html#scripts-templates[Scripts and Templates].
// https://github.com/elastic/x-pack-elasticsearch/pull/2765[#2765] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2761[#2761])
* Added the `xpack.watcher.history.cleaner_service.enabled` setting. You can use
this setting to enable or disable the cleaner service, which removes previous
versions of {watcher} indices (for example, .watcher-history*) when it
determines that they are old. For more information, see <<notification-settings>>.
// https://github.com/elastic/x-pack-elasticsearch/pull/2696[#2696] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/1337[#1337])

[[xes-bug-6.0.0-rc2]]
[float]
=== Bug fixes

Machine Learning::
* Fixed a scenario where models were incorrectly combined. This problem occurred
when anomaly detectors were considered to be the same despite having different
partition field values.
// https://github.com/elastic/machine-learning-cpp/pull/323[#323]
//* [ML] Tolerate a body without timestamp for get_buckets with a timestamp
//OMIT: Already in 5.6.3:
//https://github.com/elastic/x-pack-elasticsearch/pull/2640[#2640] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2515[#2515])
* Cleaned up the job closure process for situations where the job was still in
the process of opening.
// https://github.com/elastic/x-pack-elasticsearch/pull/2616[#2616] (issues: https://github.com/elastic/x-pack-elasticsearch/issues/1270[#1270], https://github.com/elastic/x-pack-elasticsearch/issues/2360[#2360])

Security::
* Enabled PKI realms to obtain the password for the truststore from either the
`truststore.secure_password` or the `truststore.password` setting. For more
information, see <<ref-pki-settings>>.
// https://github.com/elastic/x-pack-elasticsearch/pull/2727[#2727] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2487[#2487])
* Fixed document level security such that if your role has authority to access a
root document, you also have access to its nested documents.
// https://github.com/elastic/x-pack-elasticsearch/pull/2723[#2723] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2665[#2665])
// * [Security] Support "type" field in role-mappings
// OMIT: First fixed in 5.6.3
// https://github.com/elastic/x-pack-elasticsearch/pull/2681[#2681] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2678[#2678])
* Fixed an issue that caused LDAP authentication requests to be slow and
to require multiple binds when authenticating in user search mode.
// https://github.com/elastic/x-pack-elasticsearch/pull/2587[#2587] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2570[#2570])


See also:

* {kibana-ref}/release-notes-xkb.html[{kib} {xpack} Release Notes]
* {logstash-ref}/release-notes-xls.html[Logstash {xpack} Release Notes]
