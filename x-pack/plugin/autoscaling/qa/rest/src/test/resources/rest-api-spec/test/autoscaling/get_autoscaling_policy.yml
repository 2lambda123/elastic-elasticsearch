---
"Test get autoscaling policy":
  - do:
      autoscaling.put_autoscaling_policy:
        name: my_autoscaling_policy
        body:
          policy:
            deciders:
              always: {}

  - match: { "acknowledged": true }

  - do:
      autoscaling.get_autoscaling_policy:
        name: my_autoscaling_policy

  - match: { policy.deciders.always: {} }

---
"Test get non-existent policy":
  - do:
      catch: bad_request
      autoscaling.get_autoscaling_policy:
        name: my_autoscaling_policy

  - do:
      catch: /autoscaling policy with name \[my_autoscaling_policy\] does not exist/
      autoscaling.get_autoscaling_policy:
        name: my_autoscaling_policy
