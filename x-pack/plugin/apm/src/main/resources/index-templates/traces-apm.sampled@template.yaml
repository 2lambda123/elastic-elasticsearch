---
version: ${xpack.apm.template.version}
index_patterns: ["traces-apm.sampled-*"]
priority: 150
data_stream: {}
allow_auto_create: true
_meta:
  description: Index template for traces-apm.sampled-*
  managed: true
composed_of:
- apm@mappings
- apm@settings
- apm@custom
- ecs@dynamic_templates
ignore_missing_component_templates:
- apm@custom
template:
  lifecycle:
    data_retention: 1h
  mappings:
    properties:
      data_stream.type:
        type: constant_keyword
        value: traces
      data_stream.dataset:
        type: constant_keyword
        value: apm.sampled
      event.ingested:
        type: date
        format: date_time_no_millis
        script: "emit(System.currentTimeMillis())"
