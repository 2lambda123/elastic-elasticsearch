setup:
  - do:
      indices.create:
        index: test-index1
        body:
          settings:
            index:
              number_of_shards: 1
              number_of_replicas: 0

  - do:
      indices.create:
        index: test-index2
        body:
          settings:
            index:
              number_of_shards: 1
              number_of_replicas: 0

  - do:
      indices.create:
        index: test-index3
        body:
          settings:
            index:
              number_of_shards: 1
              number_of_replicas: 0

  - do:
      indices.create:
        index: test-index4
        body:
          settings:
            index:
              number_of_shards: 1
              number_of_replicas: 0

  - do:
      engine.put:
        engine_id: test-engine
        body:
          indices: [ "test-index1", "test-index2"]


---
"Get Engine":
  - do:
      engine.get:
        engine_id: test-engine

  - match: { indices: [ "test-index1", "test-index2" ] }

---
"Get Engine - Engine does not exist":
  - do:
      catch: bad_request
      engine.put:
        engine_id: test-nonexistent-engine

