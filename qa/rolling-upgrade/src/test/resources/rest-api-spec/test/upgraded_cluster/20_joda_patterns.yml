---
"Verify that we can find results with joda style pattern":
  - skip:
      features: "warnings"
  - do:
      warnings:
        - "'Y' year-of-era should be replaced with 'y'. Use 'Y' for week-based-year.; 'Z' time zone offset/id fails when parsing 'Z' for Zulu timezone. Consider using 'X'. Prefix your date format with '8' to use the new specifier."
      search:
        rest_total_hits_as_int: true
        index: joda
        body:
          sort: datetime
          query:
            range:
              datetime:
                gte: "2019-01-01T00:00+01:00"
                lte: "2019-01-01T00:00+01:00"
          "aggs": {
            "sales_over_time": {
              "date_histogram": {
                "field": "datetime",
                "calendar_interval": "year"
              }
            }
          }

---
"Verify that we can find results with java style pattern":
  - skip:
      version: " - 8.7.99"
      reason: java.time patterns are allowed since 6.8
  - do:
      search:
        rest_total_hits_as_int: true
        index: java
        body:
          sort: datetime
          query:
            range:
              datetime:
                gte: "2019-01-01T00:00+01:00"
                lte: "2019-01-01T00:00+01:00"
          "aggs": {
            "sales_over_time": {
              "date_histogram": {
                "field": "datetime",
                "calendar_interval": "year"
              }
            }
          }

