---
setup:
  - skip:
      features:
        - "headers"
        - "allowed_warnings_regex"
---
create indices for type query:
  - do:
      index:
        index: "test1"
        id: 1
        type: "cat"
        refresh: true
        body:
          foo: "bar"
      headers:
        Content-Type: "application/vnd.elasticsearch+json;compatible-with=7"
        Accept: "application/vnd.elasticsearch+json;compatible-with=7"
      allowed_warnings_regex:
        - "\\[types removal\\].*"
  - do:
      index:
        index: "test2"
        id: 1
        type: "_doc"
        refresh: true
        body:
          foo: "bar"
      headers:
        Content-Type: "application/vnd.elasticsearch+json;compatible-with=7"
        Accept: "application/vnd.elasticsearch+json;compatible-with=7"
      allowed_warnings_regex:
        - "\\[types removal\\].*"
